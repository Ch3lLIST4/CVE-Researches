<!DOCTYPE html>
<html>
<head>
</head>
<body>

    <form id="myForm">
        <label>Name</label>
        <input type="text" name="name" value="Chel"><br><br>
        <label>Age</label>
        <input type="text" name="age" value="22"><br><br>
        <label>Email</label>
        <input type="text" name="email" value="hoangtv19@viettel.com.vn"><br><br>
        <input type="submit" value="Submit">
    </form>
    
    <script>
        var form = document.getElementById('myForm');
        form.onsubmit = function(event){
            var xhr = new XMLHttpRequest();
            var formData = new FormData(form);
            //open the request
            xhr.open('POST','http://localhost:3000/merge')
            xhr.setRequestHeader("Content-Type", "application/json");

            //send the form data
            xhr.send(JSON.stringify(Object.fromEntries(formData)));

            xhr.onreadystatechange = function() {
                if (xhr.readyState == XMLHttpRequest.DONE) {
                    alert('Data submitted successfully!')
                    form.reset(); //reset form after AJAX success or do something else
                }
            }
            //Fail the onsubmit to avoid page refresh.
            return false; 
        }
    </script>

</body>
</html>
